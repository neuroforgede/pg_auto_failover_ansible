---
# Variable configuration.
- name: Include OS-specific variables (Debian).
  ansible.builtin.include_vars: "{{ ansible_distribution }}-{{ ansible_distribution_major_version }}.yml"
  when: ansible_os_family == 'Debian'

- name: "Define postgresql_cluster_packages."
  ansible.builtin.set_fact:
    postgresql_cluster_packages: "{{ __postgresql_cluster_packages | list }}"
  when: postgresql_cluster_packages is not defined

- name: "Define postgresql_cluster_version."
  ansible.builtin.set_fact:
    postgresql_cluster_version: "{{ __postgresql_cluster_version }}"
#  when: postgresql_cluster_version is not defined

- name: "Define postgresql_pg_auto_failover_version."
  ansible.builtin.set_fact:
    postgresql_pg_auto_failover_version: "{{ __postgresql_pg_auto_failover_version }}"
#  when: postgresql_pg_auto_failover_version is not defined

- name: "Define postgresql_cluster_user."
  ansible.builtin.set_fact:
    postgresql_cluster_user: "{{ __postgresql_cluster_user }}"
  when: postgresql_cluster_user is not defined

- name: "Define postgresql_cluster_restarted_state."
  ansible.builtin.set_fact:
    postgresql_cluster_restarted_state: "{{ __postgresql_cluster_restarted_state }}"
  when: postgresql_cluster_restarted_state is not defined

- name: "Define postgresql_repository."
  ansible.builtin.set_fact:
    postgresql_repository: "{{ __postgresql_repository }}"
  when: postgresql_repository is not defined

- name: "Define postgresql_cluster_daemon."
  ansible.builtin.set_fact:
    postgresql_cluster_daemon: "{{ __postgresql_cluster_daemon }}"
  when: postgresql_cluster_daemon is not defined

- name: "Define postgresql_cluster_data_dir."
  ansible.builtin.set_fact:
    postgresql_cluster_data_dir: "{{ __postgresql_cluster_data_dir }}"
  when: postgresql_cluster_data_dir is not defined

- name: "Define postgresql_cluster_port."
  ansible.builtin.set_fact:
    postgresql_cluster_port: "{{ __postgresql_cluster_port }}"
  when: postgresql_cluster_port is not defined

- name: "Define postgresql_cluster_bin_path."
  ansible.builtin.set_fact:
    postgresql_cluster_bin_path: "{{ __postgresql_cluster_bin_path }}"
  when: postgresql_cluster_bin_path is not defined

- name: "Define postgresql_cluster_config_path."
  ansible.builtin.set_fact:
    postgresql_cluster_config_path: "{{ __postgresql_cluster_config_path }}"
  when: postgresql_cluster_config_path is not defined

- name: "Define postgresql_cluster_unix_socket_directories_mode."
  ansible.builtin.set_fact:
    postgresql_cluster_unix_socket_directories_mode: >-
      {{ __postgresql_cluster_unix_socket_directories_mode | default('02775') }}
  when: postgresql_cluster_unix_socket_directories_mode is not defined


